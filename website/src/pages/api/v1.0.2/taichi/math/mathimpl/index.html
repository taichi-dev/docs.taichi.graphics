
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>taichi.math.mathimpl &#8212; taichi-api-docstring  documentation</title>
    
  <link href="../../../../_static/css/theme.css" rel="stylesheet">
  <link href="../../../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/css/blank.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css" />
    
  <link rel="preload" as="script" href="../../../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../../../genindex/" />
    <link rel="search" title="Search" href="../../../../search/" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    <meta name="docsearch:category" content="API Reference">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../../../">
  <img src="../../../../_static/logo.svg" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class=" collapse navbar-collapse">
    <div id="navbar-center" class="ml-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../">
  taichi: The main taichi module
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../ad/">
  taichi.ad: Taichi Autodiff system
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../aot/">
  taichi.aot: Taichi AOT system
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../linalg/">
  taichi.linalg: Taichi Linear algebra library
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../profiler/">
  taichi.profiler: Taichi profiler tools
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../tools/">
  taichi.tools: Miscellaneous tools shipped with Taichi
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../types/">
  taichi.types: Taichi types
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../ui/">
  taichi.ui: Taichi UI components (GUI and GGUI)
 </a>
</li>

    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://docs.taichi.graphics">Taichi Documentation Site<i class="fas fa-external-link-alt"></i></a>
    </li>
    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/taichi-dev/taichi" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl autoapi-container">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items">

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="dropdown show">
        <a class="dropdown-toggle" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          v1.0.2
        </a>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
          
            
            <a class="dropdown-item" href="/api/master/">master</a>
            
          
             <strong> 
            <a class="dropdown-item" href="/api/">v1.0.2</a>
             </strong> 
          
            
            <a class="dropdown-item" href="/api/v0.9.2/">v0.9.2</a>
            
          
        </div>
      </span>
    </span>
  </div>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <!--  -->

    <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../">
   taichi: The main taichi module
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ad/">
   taichi.ad: Taichi Autodiff system
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../aot/">
   taichi.aot: Taichi AOT system
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../linalg/">
   taichi.linalg: Taichi Linear algebra library
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../profiler/">
   taichi.profiler: Taichi profiler tools
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../tools/">
   taichi.tools: Miscellaneous tools shipped with Taichi
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../types/">
   taichi.types: Taichi types
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../ui/">
   taichi.ui: Taichi UI components (GUI and GGUI)
  </a>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.clamp">
   clamp
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.cross">
   cross
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.degrees">
   degrees
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.distance">
   distance
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.dot">
   dot
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.eye">
   eye
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.fract">
   fract
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.ivec2">
   ivec2
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.ivec3">
   ivec3
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.ivec4">
   ivec4
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.log2">
   log2
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.mat2">
   mat2
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.mat3">
   mat3
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.mat4">
   mat4
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.mix">
   mix
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.mod">
   mod
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.normalize">
   normalize
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.radians">
   radians
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.reflect">
   reflect
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.refract">
   refract
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.rot2">
   rot2
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.rot3">
   rot3
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.rotate2d">
   rotate2d
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.rotate3d">
   rotate3d
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.sign">
   sign
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.smoothstep">
   smoothstep
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.step">
   step
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.uvec2">
   uvec2
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.uvec3">
   uvec3
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.uvec4">
   uvec4
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.vec2">
   vec2
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.vec3">
   vec3
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#taichi.math.mathimpl.vec4">
   vec4
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="module-taichi.math.mathimpl">
<span id="taichi-math-mathimpl"></span><h1><a class="reference internal" href="#module-taichi.math.mathimpl" title="taichi.math.mathimpl"><code class="xref py py-mod docutils literal notranslate"><span class="pre">taichi.math.mathimpl</span></code></a><a class="headerlink" href="#module-taichi.math.mathimpl" title="Permalink to this heading">#</a></h1>
<p>Math functions for glsl-like functions and other stuff.</p>
<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.clamp">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">clamp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.clamp" title="Permalink to this definition">#</a></dt>
<dd><p>Constrain a value to lie between two further values, element-wise.
The returned value is computed as <cite>min(max(x, xmin), xmax)</cite>.</p>
<p>The arguments can be scalars or <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>,
as long as they can be broadcasted to a common shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference internal" href="../../types/primitive_types/#module-taichi.types.primitive_types" title="taichi.types.primitive_types"><code class="xref py py-mod docutils literal notranslate"><span class="pre">primitive_types</span></code></a>, <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – Specify
the value to constrain.</p></li>
<li><p><strong>y</strong> (<a class="reference internal" href="../../types/primitive_types/#module-taichi.types.primitive_types" title="taichi.types.primitive_types"><code class="xref py py-mod docutils literal notranslate"><span class="pre">primitive_types</span></code></a>, <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – Specify
the lower end of the range into which to constrain <cite>x</cite>.</p></li>
<li><p><strong>a</strong> (<a class="reference internal" href="../../types/primitive_types/#module-taichi.types.primitive_types" title="taichi.types.primitive_types"><code class="xref py py-mod docutils literal notranslate"><span class="pre">primitive_types</span></code></a>, <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – Specify
the upper end of the range into which to constrain <cite>x</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The value of <cite>x</cite> constrained to the range <cite>xmin</cite> to <cite>xmax</cite>.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; v = ti.Vector([0, 0.5, 1.0, 1.5])
&gt;&gt;&gt; ti.clamp(v, 0.5, 1.0)
[0.5, 0.5, 1.0, 1.0]
&gt;&gt;&gt; x = ti.Matrix([[0, 1], [-2, 2]], ti.f32)
&gt;&gt;&gt; y = ti.Matrix([[1, 2], [1, 2]], ti.f32)
&gt;&gt;&gt; ti.clamp(x, 0.5, y)
[[0.5, 1.0], [0.5, 2.0]]
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.cross">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">cross</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.cross" title="Permalink to this definition">#</a></dt>
<dd><p>Calculate the cross product of two vectors.</p>
<p>The two input vectors must have the same dimension <span class="math notranslate nohighlight">\(d &lt;= 3\)</span>.</p>
<p>This function calls the <cite>cross</cite> method of <a class="reference internal" href="../../#taichi.Vector" title="taichi.Vector"><code class="xref py py-class docutils literal notranslate"><span class="pre">Vector</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – The first input vector.</p></li>
<li><p><strong>y</strong> (<a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – The second input vector.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cross product of two vectors.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; x = ti.Vector([1., 0., 0.])
&gt;&gt;&gt; y = ti.Vector([0., 1., 0.])
&gt;&gt;&gt; cross(x, y)
[0., 0., 1.]
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.degrees">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">degrees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.degrees" title="Permalink to this definition">#</a></dt>
<dd><p>Convert <cite>x</cite> in radians to degrees, element-wise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – The input angle in radians.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>angle in degrees.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; x = ti.Vector([-pi/2, pi/2])
&gt;&gt;&gt; degrees(x)
[-90., 90.]
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.distance">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.distance" title="Permalink to this definition">#</a></dt>
<dd><p>Calculate the distance between two points.</p>
<p>This function is equivalent to the <cite>distance</cite> function is GLSL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference internal" href="../../types/primitive_types/#module-taichi.types.primitive_types" title="taichi.types.primitive_types"><code class="xref py py-mod docutils literal notranslate"><span class="pre">primitive_types</span></code></a>, <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – The first input point.</p></li>
<li><p><strong>y</strong> (<a class="reference internal" href="../../types/primitive_types/#module-taichi.types.primitive_types" title="taichi.types.primitive_types"><code class="xref py py-mod docutils literal notranslate"><span class="pre">primitive_types</span></code></a>, <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – The second input point.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The distance between the two points.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; x = ti.Vector([0, 0, 0])
&gt;&gt;&gt; y = ti.Vector([1, 1, 1])
&gt;&gt;&gt; distance(x, y)
1.732051
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.dot">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">dot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.dot" title="Permalink to this definition">#</a></dt>
<dd><p>Calculate the dot product of two vectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – The first input vector.</p></li>
<li><p><strong>y</strong> (<a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – The second input vector.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The dot product of two vectors.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; x = ti.Vector([1., 1., 0.])
&gt;&gt;&gt; y = ti.Vector([0., 1., 1.])
&gt;&gt;&gt; dot(x, y)
1.
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.eye">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">eye</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ti.template()</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.eye" title="Permalink to this definition">#</a></dt>
<dd><p>Returns the nxn identiy matrix.</p>
<p>Alias for <a class="reference internal" href="../../#taichi.Matrix.identity" title="taichi.Matrix.identity"><code class="xref py py-func docutils literal notranslate"><span class="pre">identity()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.fract">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">fract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.fract" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the fractional part of the argument, element-wise.
It’s equivalent to <cite>x - ti.floor(x)</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="../../types/primitive_types/#module-taichi.types.primitive_types" title="taichi.types.primitive_types"><code class="xref py py-mod docutils literal notranslate"><span class="pre">primitive_types</span></code></a>, <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – The
input value.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The fractional part of <cite>x</cite>.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; x = ti.Vector([-1.2, -0.7, 0.3, 1.2])
&gt;&gt;&gt; ti.fract(x)
[0.8, 0.3, 0.3, 0.2]
</pre></div>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="taichi.math.mathimpl.ivec2">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">ivec2</span></span><a class="headerlink" href="#taichi.math.mathimpl.ivec2" title="Permalink to this definition">#</a></dt>
<dd><p>2D int vector type.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="taichi.math.mathimpl.ivec3">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">ivec3</span></span><a class="headerlink" href="#taichi.math.mathimpl.ivec3" title="Permalink to this definition">#</a></dt>
<dd><p>3D int vector type.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="taichi.math.mathimpl.ivec4">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">ivec4</span></span><a class="headerlink" href="#taichi.math.mathimpl.ivec4" title="Permalink to this definition">#</a></dt>
<dd><p>4D int vector type.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.log2">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">log2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.log2" title="Permalink to this definition">#</a></dt>
<dd><p>Return the base 2 logarithm of <cite>x</cite>, so that if <span class="math notranslate nohighlight">\(2^y=x\)</span>,
then <span class="math notranslate nohighlight">\(y=\log2(x)\)</span>.</p>
<p>This is equivalent to the <cite>log2</cite> function is GLSL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – The input value.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The base 2 logarithm of <cite>x</cite>.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; v = ti.Vector([1., 2., 3.])
&gt;&gt;&gt; ti.log2(x)
[0.000000, 1.000000, 1.584962]
</pre></div>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="taichi.math.mathimpl.mat2">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">mat2</span></span><a class="headerlink" href="#taichi.math.mathimpl.mat2" title="Permalink to this definition">#</a></dt>
<dd><p>2x2 float matrix type.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="taichi.math.mathimpl.mat3">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">mat3</span></span><a class="headerlink" href="#taichi.math.mathimpl.mat3" title="Permalink to this definition">#</a></dt>
<dd><p>3x3 float matrix type.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="taichi.math.mathimpl.mat4">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">mat4</span></span><a class="headerlink" href="#taichi.math.mathimpl.mat4" title="Permalink to this definition">#</a></dt>
<dd><p>4x4 float matrix type.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.mix">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">mix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.mix" title="Permalink to this definition">#</a></dt>
<dd><p>Performs a linear interpolation between <cite>x</cite> and <cite>y</cite> using
<cite>a</cite> to weight between them. The return value is computed as
<span class="math notranslate nohighlight">\(x    imes a + (1-a)  imes y\)</span>.</p>
<p>The arguments can be scalars or <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>,
as long as the operation can be performed.</p>
<p>This function is similar to the <cite>mix</cite> function in GLSL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference internal" href="../../types/primitive_types/#module-taichi.types.primitive_types" title="taichi.types.primitive_types"><code class="xref py py-mod docutils literal notranslate"><span class="pre">primitive_types</span></code></a>, <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – Specify
the start of the range in which to interpolate.</p></li>
<li><p><strong>y</strong> (<a class="reference internal" href="../../types/primitive_types/#module-taichi.types.primitive_types" title="taichi.types.primitive_types"><code class="xref py py-mod docutils literal notranslate"><span class="pre">primitive_types</span></code></a>, <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – Specify
the end of the range in which to interpolate.</p></li>
<li><p><strong>a</strong> (<a class="reference internal" href="../../types/primitive_types/#module-taichi.types.primitive_types" title="taichi.types.primitive_types"><code class="xref py py-mod docutils literal notranslate"><span class="pre">primitive_types</span></code></a>, <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – Specify
the weight to use to interpolate between x and y.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>The linear</dt><dd><p>interpolation of <cite>x</cite> and <cite>y</cite> by weight <cite>a</cite>.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(<a class="reference internal" href="../../types/primitive_types/#module-taichi.types.primitive_types" title="taichi.types.primitive_types"><code class="xref py py-mod docutils literal notranslate"><span class="pre">primitive_types</span></code></a>, <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>)</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; x = ti.Vector([1, 1, 1])
&gt;&gt;&gt; y = ti.Vector([2, 2, 2])
&gt;&gt;&gt; a = ti.Vector([1, 0, 0])
&gt;&gt;&gt; ti.mix(x, y, a)
[2, 1, ]
&gt;&gt;&gt; x = ti.Matrix([[1, 2], [2, 3]], ti.f32)
&gt;&gt;&gt; y = ti.Matrix([[3, 5], [4, 5]], ti.f32)
&gt;&gt;&gt; a = 0.5
&gt;&gt;&gt; ti.mix(x, y, a)
[[2.0, 3.5], [3.0, 4.0]]
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.mod">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">mod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.mod" title="Permalink to this definition">#</a></dt>
<dd><p>Compute value of one parameter modulo another, element-wise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference internal" href="../../types/primitive_types/#module-taichi.types.primitive_types" title="taichi.types.primitive_types"><code class="xref py py-mod docutils literal notranslate"><span class="pre">primitive_types</span></code></a>, <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – The first input.</p></li>
<li><p><strong>y</strong> (<a class="reference internal" href="../../types/primitive_types/#module-taichi.types.primitive_types" title="taichi.types.primitive_types"><code class="xref py py-mod docutils literal notranslate"><span class="pre">primitive_types</span></code></a>, <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – The second input.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the value of <cite>x</cite> modulo <cite>y</cite>. This is computed as <cite>x - y * floor(x/y)</cite>.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; x = ti.Vector([-0.5, 0.5, 1.])
&gt;&gt;&gt; y = 1.0
&gt;&gt;&gt; mod(x, y)
[0.5, 0.5, 0.0]
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.normalize">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.normalize" title="Permalink to this definition">#</a></dt>
<dd><p>Calculates the unit vector in the same direction as the
original vector <cite>v</cite>.</p>
<p>It’s equivalent to the <cite>normalize</cite> function is GLSL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – The vector to normalize.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The normalized vector <span class="math notranslate nohighlight">\(v/|v|\)</span>.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; v = ti.Vector([1, 2, 3])
&gt;&gt;&gt; ti.normalize(v)
[0.333333, 0.666667, 1.000000]
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.radians">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">radians</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.radians" title="Permalink to this definition">#</a></dt>
<dd><p>Convert <cite>x</cite> in degrees to radians, element-wise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – The input angle in degrees.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>angle in radians.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; x = ti.Vector([-90., 45., 90.])
&gt;&gt;&gt; radians(x) / pi
[-0.5, 0.25, 0.5]
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.reflect">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">reflect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.reflect" title="Permalink to this definition">#</a></dt>
<dd><p>Calculate the reflection direction for an incident vector.</p>
<p>For a given incident vector <cite>x</cite> and surface normal <cite>n</cite> this
function returns the reflection direction calculated as
<span class="math notranslate nohighlight">\(x - 2.0 * dot(x, n) * n\)</span>.</p>
<p>This is equivalent to the <cite>reflect</cite> function is GLSL.</p>
<p><cite>n</cite> should be normalized in order to achieve the desired result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – The incident vector.</p></li>
<li><p><strong>n</strong> (<a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – The normal vector.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The reflected vector.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; x = ti.Vector([1., 2., 3.])
&gt;&gt;&gt; n = ti.Vector([0., 1., 0.])
&gt;&gt;&gt; reflect(x, n)
[1.0, -2.0, 3.0]
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.refract">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">refract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eta</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.refract" title="Permalink to this definition">#</a></dt>
<dd><p>Calculate the refraction direction for an incident vector.</p>
<p>This function is equivalent to the <cite>refract</cite> function in GLSL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – The incident vector.</p></li>
<li><p><strong>n</strong> (<a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – The normal vector.</p></li>
<li><p><strong>eta</strong> (<em>float</em>) – The ratio of indices of refraction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The refraction direction vector.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; x = ti.Vector([1., 1., 1.])
&gt;&gt;&gt; n = ti.Vector([0, 1., 0])
&gt;&gt;&gt; refract(x, y, 2.0)
[2., -1., 2]
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.rot2">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">rot2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ang</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.rot2" title="Permalink to this definition">#</a></dt>
<dd><p>Returns the matrix representation of a 2d counter-clockwise rotation,
given the angle of rotation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ang</strong> (<em>float</em>) – Angle of rotation in radians.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>2x2 rotation matrix.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../#taichi.math.mat2" title="taichi.math.mat2"><code class="xref py py-class docutils literal notranslate"><span class="pre">mat2</span></code></a></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from taichi.math import *
&gt;&gt;&gt; @ti.kernel
&gt;&gt;&gt; def test():
&gt;&gt;&gt;     M = rot2(radians(30))
[[0.866025, -0.500000], [0.500000, 0.866025]]
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.rot3">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">rot3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ang</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.rot3" title="Permalink to this definition">#</a></dt>
<dd><p>Returns the matrix representation of a 3d rotation,
given the axis and angle of rotation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axis</strong> (<a class="reference internal" href="../#taichi.math.vec3" title="taichi.math.vec3"><code class="xref py py-class docutils literal notranslate"><span class="pre">vec3</span></code></a>) – Axis of rotation.</p></li>
<li><p><strong>ang</strong> (<em>float</em>) – Angle of rotation in radians.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>3x3 rotation matrix.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../#taichi.math.mat3" title="taichi.math.mat3"><code class="xref py py-class docutils literal notranslate"><span class="pre">mat3</span></code></a></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from taichi.math import *
&gt;&gt;&gt; @ti.kernel
&gt;&gt;&gt; def test():
&gt;&gt;&gt;     M = rot3(vec3(1, 1, 1), radians(30))
[[0.732051, -0.366025, 0.633975],
 [0.633975, 0.732051, -0.366025],
 [-0.366025, 0.633975, 0.732051]]
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.rotate2d">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">rotate2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ang</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.rotate2d" title="Permalink to this definition">#</a></dt>
<dd><p>Rotates a 2d vector by a given angle in counter-clockwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> (<a class="reference internal" href="../#taichi.math.vec2" title="taichi.math.vec2"><code class="xref py py-class docutils literal notranslate"><span class="pre">vec2</span></code></a>) – The 2d vector to rotate.</p></li>
<li><p><strong>ang</strong> (<em>float</em>) – Angle of rotation, in radians.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The vector after rotation.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../#taichi.math.vec2" title="taichi.math.vec2"><code class="xref py py-class docutils literal notranslate"><span class="pre">vec2</span></code></a></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from taichi.math import *
&gt;&gt;&gt; @ti.kernel
&gt;&gt;&gt; def test():
&gt;&gt;&gt;     v = vec2(1, 0)
&gt;&gt;&gt;     print(rotate2d(v, radians(30)))
[0.866025, 0.500000]
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.rotate3d">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">rotate3d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ang</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.rotate3d" title="Permalink to this definition">#</a></dt>
<dd><p>Rotates a vector in 3d space, given an axis and angle of rotation.</p>
<p>The vector <cite>axis</cite> should be a unit vector.</p>
<p>See “<a class="reference external" href="https://en.wikipedia.org/wiki/Rodrigues%27_rotation_formula">https://en.wikipedia.org/wiki/Rodrigues%27_rotation_formula</a>”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> (<a class="reference internal" href="../#taichi.math.vec3" title="taichi.math.vec3"><code class="xref py py-class docutils literal notranslate"><span class="pre">vec3</span></code></a>) – The 3d vector to rotate.</p></li>
<li><p><strong>axis</strong> (<a class="reference internal" href="../#taichi.math.vec3" title="taichi.math.vec3"><code class="xref py py-class docutils literal notranslate"><span class="pre">vec3</span></code></a>) – Axis of rotation.</p></li>
<li><p><strong>ang</strong> (<em>float</em>) – Angle of rotation, in radians.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from taichi.math import *
&gt;&gt;&gt; @ti.kernel
&gt;&gt;&gt; def test():
&gt;&gt;&gt;     v = vec3(1, 0, 0)
&gt;&gt;&gt;     axis = normalize(vec3(1, 1, 1))
&gt;&gt;&gt;     print(rotate3d(v, axis, radians(30)))
[0.910684, 0.333333, -0.244017]
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The vector after rotation.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../#taichi.math.vec3" title="taichi.math.vec3"><code class="xref py py-class docutils literal notranslate"><span class="pre">vec3</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.sign">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">sign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.sign" title="Permalink to this definition">#</a></dt>
<dd><p>Extract the sign of the parameter, element-wise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<a class="reference internal" href="../../types/primitive_types/#module-taichi.types.primitive_types" title="taichi.types.primitive_types"><code class="xref py py-mod docutils literal notranslate"><span class="pre">primitive_types</span></code></a>, <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – The
input value.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>-1.0 if <cite>x</cite> is less than 0.0, 0.0 if <cite>x</cite> is equal to 0.0,
and +1.0 if <cite>x</cite> is greater than 0.0.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; x = ti.Vector([-1.0, 0.0, 1.0])
&gt;&gt;&gt; ti.sign(x)
[0.8, 0.3, 0.3, 0.2]
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.smoothstep">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">smoothstep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edge0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.smoothstep" title="Permalink to this definition">#</a></dt>
<dd><p>Performs smooth Hermite interpolation between 0 and 1 when
<cite>edge0 &lt; x &lt; edge1</cite>, element-wise.</p>
<p>The arguments can be scalars or <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>,
as long as they can be broadcasted to a common shape.</p>
<p>This function is equivalent to the <cite>smoothstep</cite> in GLSL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>edge0</strong> (<a class="reference internal" href="../../types/primitive_types/#module-taichi.types.primitive_types" title="taichi.types.primitive_types"><code class="xref py py-mod docutils literal notranslate"><span class="pre">primitive_types</span></code></a>, <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – Specifies
the value of the lower edge of the Hermite function.</p></li>
<li><p><strong>edge1</strong> (<a class="reference internal" href="../../types/primitive_types/#module-taichi.types.primitive_types" title="taichi.types.primitive_types"><code class="xref py py-mod docutils literal notranslate"><span class="pre">primitive_types</span></code></a>, <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – Specifies
the value of the upper edge of the Hermite function.</p></li>
<li><p><strong>x</strong> (<a class="reference internal" href="../../types/primitive_types/#module-taichi.types.primitive_types" title="taichi.types.primitive_types"><code class="xref py py-mod docutils literal notranslate"><span class="pre">primitive_types</span></code></a>, <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – Specifies
the source value for interpolation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The smoothly interpolated value.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; edge0 = ti.Vector([0, 1, 2])
&gt;&gt;&gt; edge1 = 1
&gt;&gt;&gt; x = ti.Vector([0.5, 1.5, 2.5])
&gt;&gt;&gt; ti.smoothstep(edge0, edge1, x)
[0.5, 1.0, 0.0]
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.step">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edge</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.step" title="Permalink to this definition">#</a></dt>
<dd><p>Generate a step function by comparing two values, element-wise.</p>
<p><cite>step</cite> generates a step function by comparing <cite>x</cite> to edge.
For element i of the return value, 0.0 is returned if x[i] &lt; edge[i],
and 1.0 is returned otherwise.</p>
<p>The two arguments can be scalars or <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>,
as long as they can be broadcasted to a common shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>edge</strong> (<a class="reference internal" href="../../types/primitive_types/#module-taichi.types.primitive_types" title="taichi.types.primitive_types"><code class="xref py py-mod docutils literal notranslate"><span class="pre">primitive_types</span></code></a>, <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – Specify
the location of the edge of the step function.</p></li>
<li><p><strong>x</strong> (<a class="reference internal" href="../../types/primitive_types/#module-taichi.types.primitive_types" title="taichi.types.primitive_types"><code class="xref py py-mod docutils literal notranslate"><span class="pre">primitive_types</span></code></a>, <a class="reference internal" href="../../#taichi.Matrix" title="taichi.Matrix"><code class="xref py py-class docutils literal notranslate"><span class="pre">Matrix</span></code></a>) – Specify
the value to be used to generate the step function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The return value is computed as <cite>x &gt;= edge</cite>, with type promoted.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; x = ti.Matrix([[0, 1], [2, 3]], ti.f32)
&gt;&gt;&gt; y = 1
&gt;&gt;&gt; ti.step(x, y)
[[1.0, 1.0], [0.0, 0.0]]
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.uvec2">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">uvec2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.uvec2" title="Permalink to this definition">#</a></dt>
<dd><p>2D unsigned int vector type.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.uvec3">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">uvec3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.uvec3" title="Permalink to this definition">#</a></dt>
<dd><p>3D unsigned int vector type.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="taichi.math.mathimpl.uvec4">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">uvec4</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#taichi.math.mathimpl.uvec4" title="Permalink to this definition">#</a></dt>
<dd><p>4D unsigned int vector type.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="taichi.math.mathimpl.vec2">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">vec2</span></span><a class="headerlink" href="#taichi.math.mathimpl.vec2" title="Permalink to this definition">#</a></dt>
<dd><p>2D float vector type.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="taichi.math.mathimpl.vec3">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">vec3</span></span><a class="headerlink" href="#taichi.math.mathimpl.vec3" title="Permalink to this definition">#</a></dt>
<dd><p>3D float vector type.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="taichi.math.mathimpl.vec4">
<span class="sig-prename descclassname"><span class="pre">taichi.math.mathimpl.</span></span><span class="sig-name descname"><span class="pre">vec4</span></span><a class="headerlink" href="#taichi.math.mathimpl.vec4" title="Permalink to this definition">#</a></dt>
<dd><p>4D float vector type.</p>
</dd></dl>

</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../../../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, Taichi Graphics.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.0.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>